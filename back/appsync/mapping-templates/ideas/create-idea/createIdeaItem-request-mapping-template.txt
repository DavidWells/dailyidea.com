{
    "version" : "2017-02-28",
    "operation" : "PutItem",
    "key" : {
        "ideaId" : $util.dynamodb.toDynamoDBJson($util.autoId()),
        "userId" : { "S" : "${ctx.identity.username}" }
    },
    "attributeValues" : {
        "title" : { "S" : "${ctx.arguments.title}" },
        "content" : #if(!$util.isNullOrEmpty($ctx.arguments.content)) { "S" : "${ctx.arguments.content}" } #else {"NULL": null} #end,
        "ideaDate" : $util.dynamodb.toDynamoDBJson($util.time.nowISO8601()),
        "createdDate" : $util.dynamodb.toDynamoDBJson($util.time.nowISO8601()),
        "likesCount" : {"N": "0"},
        "commentsCount" : {"N": "0"},
        "visibility" : {"S": "PUBLIC"},
    }
}
